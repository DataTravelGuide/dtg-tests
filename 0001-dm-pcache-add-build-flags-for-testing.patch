From ae617ea80327f2f27b568e0235e67c79fd55a783 Mon Sep 17 00:00:00 2001
From: Dongsheng Yang <dongsheng.yang@linux.dev>
Date: Fri, 15 Aug 2025 13:12:04 +0000
Subject: [PATCH] dm-pcache: add build flags for testing

Signed-off-by: Dongsheng Yang <dongsheng.yang@linux.dev>
---
 drivers/md/dm-pcache/Makefile | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/drivers/md/dm-pcache/Makefile b/drivers/md/dm-pcache/Makefile
index 86776e4acad2..1cc5884b7529 100644
--- a/drivers/md/dm-pcache/Makefile
+++ b/drivers/md/dm-pcache/Makefile
@@ -1,3 +1,5 @@
+ccflags-y += -Werror -Wmaybe-uninitialized -Wuninitialized -Wformat=2
+
 dm-pcache-y := dm_pcache.o cache_dev.o segment.o backing_dev.o cache.o cache_gc.o cache_writeback.o cache_segment.o cache_key.o cache_req.o
 
 obj-m += dm-pcache.o
-- 
2.43.0

